# RDP Keyboard Translator - 測試指南

## 測試環境準備

### Windows主機端 (RDP Server)
1. 確保安裝 .NET 6.0 Runtime
2. 啟用Windows遠端桌面服務
3. 安裝並確保Warp Terminal可正常運行

### Android客戶端 (RDP Client)
1. 安裝Microsoft Remote Desktop應用程式
2. 配置RDP連線到Windows主機
3. 確保Android軟鍵盤可正常使用

## 測試步驟

### 階段1: 確認問題存在

1. **直接測試Warp Terminal**
   - 在Windows主機上直接開啟Warp Terminal
   - 使用實體鍵盤輸入 → 應該正常工作
   
2. **RDP環境測試問題**
   - 從Android透過RDP連接到Windows
   - 開啟Warp Terminal
   - 使用Android軟鍵盤輸入 → 應該**無反應**（確認問題）

3. **驗證其他應用程式正常**
   - 在同樣的RDP連線下測試記事本
   - 使用Android軟鍵盤輸入 → 應該正常工作

### 階段2: 轉譯器功能測試

1. **建置轉譯器**
   ```cmd
   build.bat
   ```

2. **啟動轉譯器**
   ```cmd
   run_admin.bat
   ```
   - 應該看到"RDP Keyboard Translator Started"訊息

3. **功能驗證**
   - 保持轉譯器運行
   - 透過Android RDP開啟Warp Terminal
   - 使用Android軟鍵盤輸入 → 應該**正常工作**

### 階段3: 全面功能測試

測試以下輸入功能：

#### 基本字符測試
- [ ] 英文字母 A-Z (大小寫)
- [ ] 數字 0-9
- [ ] 空格鍵

#### 特殊鍵測試
- [ ] Enter (換行)
- [ ] Backspace (刪除)
- [ ] Tab (製表符)
- [ ] Escape

#### 修飾鍵測試
- [ ] Shift + 字母 (大寫)
- [ ] Ctrl + C (複製)
- [ ] Ctrl + V (貼上)
- [ ] Alt + Tab (窗口切換)

#### 命令行操作測試
- [ ] 基本命令輸入 (`ls`, `cd`, `pwd`)
- [ ] 參數輸入 (`ls -la`)
- [ ] 檔案路徑輸入 (`cd /path/to/folder`)

### 階段4: 邊界情況測試

1. **混合輸入測試**
   - 實體鍵盤 + 軟鍵盤混合使用（如果可能）
   - 驗證兩者不互相干擾

2. **長時間運行測試**
   - 轉譯器運行30分鐘以上
   - 驗證記憶體使用是否正常
   - 檢查是否有資源洩漏

3. **快速輸入測試**
   - 快速連續按鍵
   - 驗證所有按鍵都被正確處理

4. **退出功能測試**
   - 同時按下 ESC + F12
   - 確認轉譯器正常退出

### 階段5: 相容性測試

測試其他應用程式是否受影響：
- [ ] VS Code (Claude Code擴展)
- [ ] Windows Terminal
- [ ] 命令提示字元 (CMD)
- [ ] PowerShell
- [ ] 記事本
- [ ] 瀏覽器

## 預期結果

### 成功指標
✅ Android RDP軟鍵盤在Warp Terminal中正常工作  
✅ 轉譯器不影響其他應用程式  
✅ 實體鍵盤功能不受影響  
✅ 可以正常退出轉譯器  

### 失敗指標  
❌ 軟鍵盤輸入仍無反應  
❌ 出現按鍵重複或遺漏  
❌ 影響其他應用程式的鍵盤輸入  
❌ 記憶體洩漏或效能問題  

## 問題排除

### 如果測試失敗

1. **檢查管理員權限**
   - 確保以管理員身份運行轉譯器

2. **檢查.NET安裝**
   - 確認.NET 6.0 正確安裝

3. **檢查防毒軟體**
   - 某些防毒軟體可能阻止鍵盤Hook
   - 暫時停用或添加例外

4. **查看錯誤訊息**
   - 檢查轉譯器控制台的錯誤輸出
   - 查看Windows事件記錄

5. **重新建置**
   - 刪除bin和obj資料夾
   - 重新執行build.bat

## 報告格式

測試完成後，請記錄：

```
測試環境：
- Windows版本：
- .NET版本：
- Android裝置：
- RDP應用程式版本：

測試結果：
- 基本功能：[通過/失敗]
- 特殊鍵：[通過/失敗]
- 修飾鍵：[通過/失敗]
- 長時間運行：[通過/失敗]
- 相容性：[通過/失敗]

問題記錄：
- [列出遇到的任何問題]

建議改進：
- [列出改進建議]
```